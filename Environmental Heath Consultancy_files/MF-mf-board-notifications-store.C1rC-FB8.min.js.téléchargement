var e,t,n=Object.getOwnPropertyNames,r=(e={"MF-mf-board-notifications-store.C1rC-FB8.min.js"(e,t){try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="326225e6-59e0-426e-be9f-2ecd9f816be3",e._sentryDebugIdIdentifier="sentry-dbid-326225e6-59e0-426e-be9f-2ecd9f816be3")}catch(Pr){}let n;function r(){if(!n)throw new Error('API was not set yet, using the API is only possible after the "init" function has been called');return n}var o,i,s,a,c,u,l,f,h,d,p,y,b,g,v,m,_,w,S,O,j;(i=o||(o={}))[i.OwnersOnly=30]="OwnersOnly",i[i.StructureAndContent=20]="StructureAndContent",i[i.ContentOnly=10]="ContentOnly",i[i.Assignee=5]="Assignee",i[i.ReadOnly=0]="ReadOnly",(a=s||(s={}))[a.Public=1]="Public",a[a.Closed=2]="Closed",a[a.Hidden=3]="Hidden",a[a.Template=4]="Template",(u=c||(c={})).Board="board",u.Workspace="workspace",u.Overview="overview",u.Item="item",u.Group="group",u.User="user",u.File="file",u.Folder="folder",u.Doc="doc",(f=l||(l={})).Yearly="yearly",f.Monthly="monthly",f.Biennially="two_yearly",(d=h||(h={})).Core="core",d.CRM="crm",d.Marketing="marketing",d.Software="software",d.ProjectManagement="project_management",d.Forms="forms",d.Whiteboard="whiteboard",d.Knowledge="knowledge",d.Workflows="workflows",(y=p||(p={})).CORE="10093110",y.CRM="10071386",y.SOFTWARE="10093550",h.Core,h.CRM,h.Marketing,h.Software,h.ProjectManagement,h.Forms,h.Whiteboard,h.Knowledge,h.Workflows,(g=b||(b={})).CUSTOM="custom",g.STATIC="static",g.APP="app_recipe",g.WORKFLOW="workflow",(m=v||(v={})).MONDAY="monday",m.APPS="apps",(_||(_={})).HIPAA="hipaa",(S=w||(w={})).crmGlobalSettings="CRM_SETTINGS",S.whatIsNewPane="WHAT_IS_NEW",S.appColumnExtension="APP_COLUMN_EXTENSION",S.appFeature="APP_FEATURE",S.devTeamSettings="DEV_TEAM_SETTINGS",S.leadsExpert="LEADS_EXPERT",(j=O||(O={})).MY_PERMISSIONS="my-permissions",j.DEFAULT="default";for(var A,P=[],E=0;E<256;++E)P.push((E+256).toString(16).slice(1));var I=new Uint8Array(16);function T(){if(!A&&!(A="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return A(I)}const C={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function k(e,t,n){if(C.randomUUID&&!e)return C.randomUUID();var r=(e=e||{}).random||(e.rng||T)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e,t=0){return(P[e[t+0]]+P[e[t+1]]+P[e[t+2]]+P[e[t+3]]+"-"+P[e[t+4]]+P[e[t+5]]+"-"+P[e[t+6]]+P[e[t+7]]+"-"+P[e[t+8]]+P[e[t+9]]+"-"+P[e[t+10]]+P[e[t+11]]+P[e[t+12]]+P[e[t+13]]+P[e[t+14]]+P[e[t+15]]).toLowerCase()}(r)}function N(e=[]){return e.map((e=>function(e){return JSON.stringify(e,((e,t)=>t?.constructor===Object?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}(e))).join(",")}var R=e=>Array.isArray(e)?e:[e];function F(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var M="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function B(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,i=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const a=t;let c;if(1===t.s)c=t.v;else if(c=e.apply(null,arguments),i++,r){const e=o?.deref?.()??o;null!=e&&r(e,c)&&(c=e,0!==i&&i--),o="object"==typeof c&&null!==c||"function"==typeof c?new M(c):c}return a.s=1,a.v=c,c}return s.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function L(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,o=0,i={},s=e.pop();"object"==typeof s&&(i=s,s=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);const a={...n,...i},{memoize:c,memoizeOptions:u=[],argsMemoize:l=B,argsMemoizeOptions:f=[]}=a,h=R(u),d=R(f),p=F(e),y=c((function(){return r++,s.apply(null,arguments)}),...h),b=l((function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}(p,arguments);return t=y.apply(null,e),t}),...d);return Object.assign(b,{resultFunc:s,memoizedResultFunc:y,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:l})};return Object.assign(r,{withTypes:()=>r}),r}var D=L(B),U=Object.assign(((e,t=D)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>U});class z{constructor(e,t,n,r,o){this.selector=null,this.unsubscribers=[],this.getQueryState=()=>this.store.getQueryState(this.id,this.cacheId),this.setQueryState=e=>{this.store.setQueryState(this.id,this.cacheId,e)},this.wait=async(e={force:!1})=>{if(e.force&&await this.run(!0),await this.runIfNeeded(),this.getQueryState().error)throw this.getQueryState().error;return this.selector(this.store.getState())},this.id=e,this.asyncSelectorCreator=n,this.args=r,this.cacheId=t,this.getStore=o,this.cachedSelector=D((e=>this.selector?.(e)??null),this.getQueryState,((e,t)=>({data:e,force:()=>{this.run(!0)},loaded:t.loaded,error:t.error,promise:t.promise,isFetching:t.isFetching})))}get store(){return this.getStore()}clearState(){this.setQueryState({loaded:!1,promise:null,error:null,isFetching:!1})}async runIfNeeded(e){const{promise:t}=this.getQueryState(),{skipExecution:n}=e||{};if(!n)if(t)try{await t}catch(r){}else await this.run()}rerunOnChange(e){let t=e(this.store.getState());const n=this.store.subscribe((()=>{const n=e(this.store.getState());n!==t&&(t=n,this.run())}));return this.unsubscribers.push(n),t}async run(e=!1){this.unsubscribers.forEach((e=>e()));try{const t=this.asyncSelectorCreator({rerunOnChange:e=>this.rerunOnChange(e),isForceExecution:e,setQueryState:e=>this.setQueryState(e)},...this.args);this.setQueryState({...this.getQueryState(),isFetching:!0,promise:t}),this.selector=await t,this.setQueryState({loaded:!0,isFetching:!1})}catch(t){this.setQueryState({error:t,isFetching:!1})}}}const $=e=>t=>{const n=k(),r=new Map,o=(...o)=>{const i=N(o);let s=r.get(i);return s||(s=new z(n,i,t,o,e),r.set(i,s)),s};return o.queryId=n,o.clearCache=()=>{r.forEach((e=>e.clearState()))},o},x={},G=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(x?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,o,i);return i};var V,H;(H=V||(V={}))[H.RunOnce=0]="RunOnce",H[H.Batch=1]="Batch";const W=(e=V.Batch)=>{let t=[],n=null;const r=()=>{n||(n=Promise.resolve().then((()=>{(()=>{const e=t;t=[],n=null,e.forEach((e=>e()))})()})))};return o=>(e===V.RunOnce&&n||(r(),t.push(o)),n)},Q=W(V.RunOnce),q=new class{constructor(){this.isLocked=!1,this.handlers=[],this.isPending=!1}addHandler(e){this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e))}sync(){return this.isLocked?Promise.resolve():this.handlers.length>0?(this.isPending=!0,Q((()=>this.handlers.forEach((e=>e()))))?.then((()=>{this.isPending=!1}))):(this.handlers.forEach((e=>{e()})),Promise.resolve())}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}},Y=Symbol.for("vulcan_query");function J(e){const t=e;return t.useQueryHookFactory=K,t.getQueryState=function(e){return(t,n)=>{const{getState:r}=e,o=r()[Y]?.[t]?.[n];return o?r()[Y][t]?.[n]:X}}(t),t.setQueryState=function({setState:e}){return(t,n,r)=>{e((e=>({[Y]:{...e[Y],[t]:{...e[Y]?.[t],[n]:{...e[Y][t]?.[n],...r}}}})))}}(t),t.createQuery=$((()=>t)),t.setState({[Y]:{}}),t}function K(e){return(t,n)=>(Promise.resolve().then((()=>{t.runIfNeeded(n)})),e(t.cachedSelector))}const X={loaded:!1,promise:null,error:null,isFetching:!1},Z=Symbol("ACTION_ID"),ee=(e,t)=>{const n=e;return n.actionsListeners=new Map,n.onAction=function(e){return(t,n)=>{const r=t[Z];return e.actionsListeners.has(r)?e.actionsListeners.get(r)?.push(n):e.actionsListeners.set(r,[n]),()=>{e.actionsListeners.delete(r)}}}(n),function(e,t){Object.values(e).forEach((n=>{if(n.actions){const r=n;r.actions={...r.actions},Object.keys(r.actions).forEach((n=>{const o=function(e,t,n,r){let o=e=>n(...e.args);return[...r].reverse().forEach((e=>{o=e(o)})),(...r)=>{const i=n?.metaCreator?.(...r),s={name:e,args:r,path:`${t}.${e}`};return i&&(s.meta=i),o(s)}}(n,r.name,r.actions[n],t),i=function(e,t,n,r){const o=`${n.name}.${r}`,i=(...i)=>{const s=e(...i),a=()=>t.actionsListeners.get(o)?.forEach((e=>e({name:r,args:i,path:`${n.name}.${r}`})));return s instanceof Promise?s.then((e=>(a(),e))):(a(),s)};return i[Z]=o,i}(o,e,r,n);r.actions[n]=i}))}}))}(n,t),n},te=(e,t=[])=>{const n=J((e=>{const t=W(V.Batch),n=e.subscribe;return e.subscribe=e=>{const r=new Set,o=(n,i)=>{q.isLocked?t((()=>{r.has(o)?r.delete(o):e(n,i)})):e(n,i)},i=n(o);return()=>{r.add(o),i()}},e})((r=()=>({}))?G(r):G));var r;return Object.values(e).forEach((e=>{!function(e,t){e[t.name]=t}(n,e),e.init(n)})),"undefined"!=typeof window&&window.VulcanInitData?.features?.useMiddleware&&ee(n,t),n.syncToRedux=e=>q.addHandler((()=>e({type:"vulcan_v2"}))),n.subscribe((()=>q.sync())),n};var ne;"function"==typeof SuppressedError&&SuppressedError;class re{constructor(e,t,n={}){this.selectors={},this.actions={},this.queries={},this.createQuery=$((()=>this.store)),ne.set(this,void 0);const{skipStateInitialization:r=!1}=n;this.name=e,this.initialState=t,this.selectors={...this.selectors},function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?o.call(e,n):o?o.value=n:t.set(e,n)}(this,ne,r,"f")}init(e){this.store=e,this.getState=function(e,t){return()=>e.getState()[t]}(e,this.name),this.setState=function(e,t){return(n,r=!1)=>{let o=n;if("function"==typeof n){const r=e.getState()[t];o=n(r)}r?e.setState({[t]:o}):e.setState((e=>({[t]:{...e[t],...o}})))}}(e,this.name),function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,ne,"f")||this.setState(this.initialState,!0)}get state(){return this.getState()}clear(){this.setState(this.initialState,!0)}asReducer(e){return((e,{setState:t,getState:n})=>{const r=(r,o)=>{const i="vulcan_v2"===o.type;if(!i&&q.isPending&&e.isVulcanV1Reducer&&e(n(),{type:"vulcan_v2_force_update"}),!i){const r=n(),i=e(r,o);r!==i&&(q.lock(),t(i,!0),q.unlock())}return i&&e.isVulcanV1Reducer?e(n(),{type:"vulcan_v2_force_update"}):n()};return r.isVulcanV2Reducer=!0,r})(e,this)}}ne=new WeakMap,new class{constructor(e){this.trackerGetter=e}trackTtlCacheEvent(e,t={}){if(!this.trackerGetter)return;const n=this.trackerGetter();n?.("track",e,{source:"vulcan-core",...t})}trackEvent(e,t,n={}){if(!this.trackerGetter)return;const r=this.trackerGetter();r?.("track",t,{source:e,...n})}}(("undefined"==typeof window?{}:window.VulcanInitData?.servicesInitParams||{}).getBigBrainTracker),new FinalizationRegistry((({ref:e,handler:t})=>{t(e)}));var oe='"mf-board-notifications-store"';const ie=e=>window?.microfrontends?.vulcanStores?.[e?.replaceAll('"',"")],se=()=>oe,ae=(e,t=[],n=!1)=>{const r=se();var o,i,s;return ie(r)&&!n||(o=r,i=te(e,t),window.microfrontends||(window.microfrontends={}),(s=window.microfrontends).vulcanStores||(s.vulcanStores={}),window.microfrontends.vulcanStores[o?.replaceAll('"',"")]=i),ie(r)};("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"07aa28bf70c133fc9740c8783e1011a247b12198"};const ce="boardNotifications",ue={ITEM_BOARD_NOTIFICATION:"ITEM_BOARD_NOTIFICATION",CELL_BOARD_NOTIFICATION:"CELL_BOARD_NOTIFICATION",COLUMN_BOARD_NOTIFICATION:"COLUMN_BOARD_NOTIFICATION"},le={SMARTFILL:"smartfill"},fe=Object.freeze(Object.defineProperty({__proto__:null,BOARD_NOTIFICATIONS_SLICE_PATH:ce,BOARD_NOTIFICATION_TYPES:ue,CALLBACK_TYPES:le},Symbol.toStringTag,{value:"Module"})),he=(e,t)=>{const n=Date.now();return Object.values(e.boardNotifications.notifications).filter((e=>e.boardId===t&&e.expiresAt>n&&e.isActive))},de=(e,t,n)=>he(e,n)?.filter((e=>e.type===t)),pe=(e,t,n)=>de(e,ue.ITEM_BOARD_NOTIFICATION,t)?.find((e=>e.type===ue.ITEM_BOARD_NOTIFICATION&&e.itemId===n)),ye=(e,t)=>{const n=de(e,ue.COLUMN_BOARD_NOTIFICATION,t);return n?n.filter((e=>{const t=e.data?.callback;return t?.type===le.SMARTFILL})):[]},be=Object.freeze(Object.defineProperty({__proto__:null,selectAll:he,selectByColumnId:(e,t,n)=>de(e,ue.COLUMN_BOARD_NOTIFICATION,t)?.find((e=>e.type===ue.COLUMN_BOARD_NOTIFICATION&&e.columnId===n)),selectByItemId:pe,selectByType:de,selectSmartfillCandidates:ye},Symbol.toStringTag,{value:"Module"}));var ge="object"==typeof self&&self&&self.Object===Object&&self,ve="object"==typeof self&&self&&self.Object===Object&&self,me=ge||ve||Function("return this")(),_e=me.Symbol,we=Object.prototype,Se=we.hasOwnProperty,Oe=we.toString,je=_e?_e.toStringTag:void 0,Ae=Object.prototype.toString,Pe=_e?_e.toStringTag:void 0;function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Pe&&Pe in Object(e)?function(e){var t=Se.call(e,je),n=e[je];try{e[je]=void 0;var r=!0}catch(Pr){}var o=Oe.call(e);return r&&(t?e[je]=n:delete e[je]),o}(e):function(e){return Ae.call(e)}(e)}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Te(e){if(!Ie(e))return!1;var t=Ee(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Ce,ke=me["__core-js_shared__"],Ne=(Ce=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Ce:"",Re=Function.prototype.toString;function Fe(e){if(null!=e){try{return Re.call(e)}catch(Pr){}try{return e+""}catch(Pr){}}return""}var Me=/^\[object .+?Constructor\]$/,Be=Function.prototype,Le=Object.prototype,De=Be.toString,Ue=Le.hasOwnProperty,ze=RegExp("^"+De.call(Ue).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $e(e){return!(!Ie(e)||(t=e,Ne&&Ne in t))&&(Te(e)?ze:Me).test(Fe(e));var t}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $e(n)?n:void 0}var Ge=function(){try{var e=xe(Object,"defineProperty");return e({},"",{}),e}catch(Pr){}}();function Ve(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var He=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var a=i[++r];if(!1===t(o[a],a,o))break}return e};function We(e){return null!=e&&"object"==typeof e}function Qe(e){return We(e)&&"[object Arguments]"==Ee(e)}var qe=Object.prototype,Ye=qe.hasOwnProperty,Je=qe.propertyIsEnumerable,Ke=Qe(function(){return arguments}())?Qe:function(e){return We(e)&&Ye.call(e,"callee")&&!Je.call(e,"callee")},Xe=Array.isArray,Ze="object"==typeof e&&e&&!e.nodeType&&e,et=Ze&&"object"==typeof t&&t&&!t.nodeType&&t,tt=et&&et.exports===Ze?me.Buffer:void 0,nt=(tt?tt.isBuffer:void 0)||function(){return!1},rt=/^(?:0|[1-9]\d*)$/;function ot(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&rt.test(e))&&e>-1&&e%1==0&&e<t}function it(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;var at,ct="object"==typeof e&&e&&!e.nodeType&&e,ut=ct&&"object"==typeof t&&t&&!t.nodeType&&t,lt=ut&&ut.exports===ct&&ge.process,ft=function(){try{var e=ut&&ut.require&&ut.require("util").types;return e||lt&&lt.binding&&lt.binding("util")}catch(Pr){}}(),ht=ft&&ft.isTypedArray,dt=ht?(at=ht,function(e){return at(e)}):function(e){return We(e)&&it(e.length)&&!!st[Ee(e)]},pt=Object.prototype.hasOwnProperty;function yt(e,t){var n=Xe(e),r=!n&&Ke(e),o=!n&&!r&&nt(e),i=!n&&!r&&!o&&dt(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!pt.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ot(u,c))||a.push(u);return a}var bt=Object.prototype,gt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),vt=Object.prototype.hasOwnProperty;function mt(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||bt))return gt(e);var t,n,r=[];for(var o in Object(e))vt.call(e,o)&&"constructor"!=o&&r.push(o);return r}function _t(e){return null!=e&&it(e.length)&&!Te(e)}function wt(e){return _t(e)?yt(e):mt(e)}var St,Ot=(St=function(e,t){return e&&He(e,t,wt)},function(e,t){if(null==e)return e;if(!_t(e))return St(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e});function jt(e,t,n,r){return Ot(e,(function(e,o,i){t(r,e,n(e),i)})),r}function At(e,t){return e===t||e!=e&&t!=t}function Pt(e,t){for(var n=e.length;n--;)if(At(e[n][0],t))return n;return-1}var Et=Array.prototype.splice;function It(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}It.prototype.clear=function(){this.__data__=[],this.size=0},It.prototype.delete=function(e){var t=this.__data__,n=Pt(t,e);return!(n<0||(n==t.length-1?t.pop():Et.call(t,n,1),--this.size,0))},It.prototype.get=function(e){var t=this.__data__,n=Pt(t,e);return n<0?void 0:t[n][1]},It.prototype.has=function(e){return Pt(this.__data__,e)>-1},It.prototype.set=function(e,t){var n=this.__data__,r=Pt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Tt=xe(me,"Map"),Ct=xe(Object,"create"),kt=Object.prototype.hasOwnProperty,Nt=Object.prototype.hasOwnProperty;function Rt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ft(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Mt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bt(e){var t=this.__data__=new It(e);this.size=t.size}function Lt(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Mt;++t<n;)this.add(e[t])}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ut(e,t,n,r,o,i){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),l=i.get(t);if(u&&l)return u==t&&l==e;var f=-1,h=!0,d=2&n?new Lt:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var p=e[f],y=t[f];if(r)var b=s?r(y,p,f,t,e,i):r(p,y,f,e,t,i);if(void 0!==b){if(b)continue;h=!1;break}if(d){if(!Dt(t,(function(e,t){if(s=t,!d.has(s)&&(p===e||o(p,e,n,r,i)))return d.push(t);var s}))){h=!1;break}}else if(p!==y&&!o(p,y,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}Rt.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},Rt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rt.prototype.get=function(e){var t=this.__data__;if(Ct){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return kt.call(t,e)?t[e]:void 0},Rt.prototype.has=function(e){var t=this.__data__;return Ct?void 0!==t[e]:Nt.call(t,e)},Rt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ct&&void 0===t?"__lodash_hash_undefined__":t,this},Mt.prototype.clear=function(){this.size=0,this.__data__={hash:new Rt,map:new(Tt||It),string:new Rt}},Mt.prototype.delete=function(e){var t=Ft(this,e).delete(e);return this.size-=t?1:0,t},Mt.prototype.get=function(e){return Ft(this,e).get(e)},Mt.prototype.has=function(e){return Ft(this,e).has(e)},Mt.prototype.set=function(e,t){var n=Ft(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Bt.prototype.clear=function(){this.__data__=new It,this.size=0},Bt.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Bt.prototype.get=function(e){return this.__data__.get(e)},Bt.prototype.has=function(e){return this.__data__.has(e)},Bt.prototype.set=function(e,t){var n=this.__data__;if(n instanceof It){var r=n.__data__;if(!Tt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Mt(r)}return n.set(e,t),this.size=n.size,this},Lt.prototype.add=Lt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Lt.prototype.has=function(e){return this.__data__.has(e)};var zt=me.Uint8Array;function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function xt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Gt=_e?_e.prototype:void 0,Vt=Gt?Gt.valueOf:void 0,Ht=Object.prototype.propertyIsEnumerable,Wt=Object.getOwnPropertySymbols,Qt=Wt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}(Wt(e),(function(t){return Ht.call(e,t)})))}:function(){return[]};function qt(e){return function(e,t,n){var r=t(e);return Xe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,wt,Qt)}var Yt=Object.prototype.hasOwnProperty,Jt=xe(me,"DataView"),Kt=xe(me,"Promise"),Xt=xe(me,"Set"),Zt=xe(me,"WeakMap"),en="[object Map]",tn="[object Promise]",nn="[object Set]",rn="[object WeakMap]",on="[object DataView]",sn=Fe(Jt),an=Fe(Tt),cn=Fe(Kt),un=Fe(Xt),ln=Fe(Zt),fn=Ee;(Jt&&fn(new Jt(new ArrayBuffer(1)))!=on||Tt&&fn(new Tt)!=en||Kt&&fn(Kt.resolve())!=tn||Xt&&fn(new Xt)!=nn||Zt&&fn(new Zt)!=rn)&&(fn=function(e){var t=Ee(e),n="[object Object]"==t?e.constructor:void 0,r=n?Fe(n):"";if(r)switch(r){case sn:return on;case an:return en;case cn:return tn;case un:return nn;case ln:return rn}return t});var hn="[object Arguments]",dn="[object Array]",pn="[object Object]",yn=Object.prototype.hasOwnProperty;function bn(e,t,n,r,o,i){var s=Xe(e),a=Xe(t),c=s?dn:fn(e),u=a?dn:fn(t),l=(c=c==hn?pn:c)==pn,f=(u=u==hn?pn:u)==pn,h=c==u;if(h&&nt(e)){if(!nt(t))return!1;s=!0,l=!1}if(h&&!l)return i||(i=new Bt),s||dt(e)?Ut(e,t,n,r,o,i):function(e,t,n,r,o,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new zt(e),new zt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=$t;case"[object Set]":var c=1&r;if(a||(a=xt),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var l=Ut(a(e),a(t),r,o,i,s);return s.delete(e),l;case"[object Symbol]":if(Vt)return Vt.call(e)==Vt.call(t)}return!1}(e,t,c,n,r,o,i);if(!(1&n)){var d=l&&yn.call(e,"__wrapped__"),p=f&&yn.call(t,"__wrapped__");if(d||p){var y=d?e.value():e,b=p?t.value():t;return i||(i=new Bt),o(y,b,n,r,i)}}return!!h&&(i||(i=new Bt),function(e,t,n,r,o,i){var s=1&n,a=qt(e),c=a.length;if(c!=qt(t).length&&!s)return!1;for(var u=c;u--;){var l=a[u];if(!(s?l in t:Yt.call(t,l)))return!1}var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var d=!0;i.set(e,t),i.set(t,e);for(var p=s;++u<c;){var y=e[l=a[u]],b=t[l];if(r)var g=s?r(b,y,l,t,e,i):r(y,b,l,e,t,i);if(!(void 0===g?y===b||o(y,b,n,r,i):g)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var v=e.constructor,m=t.constructor;v==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d}(e,t,n,r,o,i))}function gn(e,t,n,r,o){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!=e&&t!=t:bn(e,t,n,r,gn,o))}function vn(e){return e==e&&!Ie(e)}function mn(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function _n(e){var t=function(e){for(var t=wt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,vn(o)]}return t}(e);return 1==t.length&&t[0][2]?mn(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var a=(s=n[o])[0],c=e[a],u=s[1];if(s[2]){if(void 0===c&&!(a in e))return!1}else if(!gn(u,c,3,r,new Bt))return!1}return!0}(n,0,t)}}function wn(e){return"symbol"==typeof e||We(e)&&"[object Symbol]"==Ee(e)}var Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,On=/^\w*$/;function jn(e,t){if(Xe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!wn(e))||On.test(e)||!Sn.test(e)||null!=t&&e in Object(t)}function An(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(An.Cache||Mt),n}An.Cache=Mt;var Pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,En=/\\(\\)?/g,In=function(e){var t=An(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pn,(function(e,n,r,o){t.push(r?o.replace(En,"$1"):n||e)})),t})),Tn=_e?_e.prototype:void 0,Cn=Tn?Tn.toString:void 0;function kn(e){if("string"==typeof e)return e;if(Xe(e))return function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(e,kn)+"";if(wn(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Nn(e,t){return Xe(e)?e:jn(e,t)?[e]:In(function(e){return null==e?"":kn(e)}(e))}function Rn(e){if("string"==typeof e||wn(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fn(e,t){for(var n=0,r=(t=Nn(t,e)).length;null!=e&&n<r;)e=e[Rn(t[n++])];return n&&n==r?e:void 0}function Mn(e,t){return null!=e&&t in Object(e)}function Bn(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=Nn(t,e)).length,i=!1;++r<o;){var s=Rn(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&it(o)&&ot(s,o)&&(Xe(e)||Ke(e))}(e,t,Mn)}function Ln(e,t){return jn(e)&&vn(t)?mn(Rn(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:Fn(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?Bn(n,e):gn(t,r,3)}}function Dn(e){return e}function Un(e){return jn(e)?(t=Rn(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Fn(t,e)}}(e);var t}var zn,$n=(zn=function(e,t,n){!function(e,t,n){"__proto__"==t&&Ge?Ge(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}(e,n,t)},function(e,t){var n;return(Xe(e)?Ve:jt)(e,zn,"function"==typeof(n=t)?n:null==n?Dn:"object"==typeof n?Xe(n)?Ln(n[0],n[1]):_n(n):Un(n),{})});function xn(e,...t){return n=>e(n,...t)}L({memoize:B,memoizeOptions:{resultEqualityCheck:function(e,t){if(e===t)return!0;const n=!e,r=!t;if(n&&r)return!0;if(r!==n)return!1;if(!Ie(e)||!Ie(t))return e===t;const o=Object.keys(e),i=o.length,s=Object.keys(t).length;if(i!==s)return!1;for(const a of o)if(e[a]!==t[a])return!1;return!0}}});const Gn=()=>{const e=se();return ie(e)},Vn=$(Gn);function Hn(){return window.VulcanInitData?.servicesInitParams||{}}const Wn={USER_CHANNEL:"user",ACCOUNT_CHANNEL:"account"};function Qn(e,t){const{methodsConfig:n,attempts:r,delayMs:o,onRetry:i,onSuccessfulRetry:s,onAllAttemptsFailed:a}=t,c=o??1e3;return new Promise(((t,o)=>{let u=1;const l=()=>{const f="string"==typeof e?e:e.url;let h;fetch(e).then((o=>{if(h=o.status,o.ok)1!==u&&s?.({attempt:u,attempts:r,delayMs:c,status:h,url:f});else if(function(e,t,n){if(!e||0===Object.keys(e).length)return!0;const r="string"==typeof n?"GET":n.method,o=e[r];return o?.includes(t)}(n,h,e))throw new Error(`Attempt ${u} - Fetch failed with status ${h}`);t(o)})).catch((e=>{u<r?(i?.({attempt:u,attempts:r,delayMs:c,status:h,url:f}),u++,setTimeout(l,c)):(a?.({attempt:u,attempts:r,delayMs:c,status:h,url:f}),o(e))}))};l()}))}new class{constructor(e,t){this.socketIdGetter=void 0,this.globalPusherService=null,this.unsubscribeCallbackByChannelName={},this.callbacksByEventAndChannel={},this.pendingSlicePusherConfigs=[],this.channelNames=Wn,this.initPromise=new Promise(((n,r)=>{t?t().then((e=>{this.globalPusherService=e,this.subscribePendingSlices(),n(!0)})).catch((t=>{this.socketIdGetter=e,console.error("Error while getting global pusher service",t),r(!1)})):this.socketIdGetter=e}))}subscribeSlice(e,t){this.pendingSlicePusherConfigs.push({slice:e,pusherConfig:t}),this.subscribePendingSlices()}subscribePendingSlices(){if(!this.globalPusherService)return;const e=this.pendingSlicePusherConfigs;this.pendingSlicePusherConfigs=[],e.forEach((({slice:e,pusherConfig:t})=>{Object.entries(t).forEach((([t,n])=>{Object.entries(n).forEach((([n,r])=>{const o=this.getActualChannelName(t);this.subscribeToChannel(o,n,(t=>r(e,t)))}))}))}))}subscribeToChannel(e,t,n){if(!this.globalPusherService||!e)return()=>{};if(!this.callbacksByEventAndChannel[e]){this.callbacksByEventAndChannel[e]={};const t=(t,n,r)=>{(this.callbacksByEventAndChannel[e][t]||[]).forEach((e=>e(n)))},n=this.globalPusherService.bindCustomChannel(e,t);this.unsubscribeCallbackByChannelName[e]=n}return this.callbacksByEventAndChannel[e][t]=this.callbacksByEventAndChannel[e][t]||[],this.callbacksByEventAndChannel[e][t].push(n),this.unsubscribeCallbackByChannelName[e]}unsubscribeFromChannel(e,t,n){const r=this.callbacksByEventAndChannel[e];r&&r[t]&&(r[t]=r[t].filter((e=>e!==n)),0===r[t].length&&delete r[t],0===Object.keys(r).length&&(delete this.callbacksByEventAndChannel[e],this.unsubscribeAllFromChannel(e)))}unsubscribeAllFromChannel(e){this.unsubscribeCallbackByChannelName[e]&&(this.unsubscribeCallbackByChannelName[e](),delete this.unsubscribeCallbackByChannelName[e])}getActualChannelName(e){let t=null;if(!this.globalPusherService)return null;switch(e){case this.channelNames.ACCOUNT_CHANNEL:t=this.globalPusherService.getAccountChannel();break;case this.channelNames.USER_CHANNEL:t=this.globalPusherService.getUserChannel();break;default:throw new Error(`Unknown channel name: ${e}`)}return t?.name}getSocketId(){return this.globalPusherService?this.globalPusherService.getSocketId():this.socketIdGetter?this.socketIdGetter():""}getPusherSocketIdHeader(){return{"x-pulse-pusher-socketid":this.getSocketId()}}}(Hn().getSocketId,Hn().getPusherServicePromise);const qn=new class{constructor(){this.pendingPromises=new Map,this.serviceVersion=1}getVersion(){return this.serviceVersion}getPendingId(e){return"string"==typeof e?`GET.${e}`:`${e.method?.toUpperCase()||"GET"}.${e.url}`}clearPromise(e,t){const n=this.getPendingId(e);this.pendingPromises.get(n)?.promise===t&&this.pendingPromises.delete(n)}setPendingPromise(e,t){const n={promise:t};return this.pendingPromises.set(this.getPendingId(e),n),n}clearPromiseAfterComplete(e,t,n){const r=()=>{n?setTimeout((()=>{this.clearPromise(e,t)}),n):this.clearPromise(e,t)};t.then(r).catch(r)}getPendingPromise(e){if(this.pendingPromises.get(this.getPendingId(e)))return async function(t,n){const r=n(e);return(await t.get(r).promise).clone()}(this.pendingPromises,this.getPendingId)}fetchWithOnePromise(e,t={}){const{log:n,graceTimeMs:r,retry:o}=t,i=this.getPendingPromise(e);if(i)return this.pendingPromises.get(this.getPendingId(e)).moreThanOne=!0,n?.trace("existing fetchPromise for",e),i;const s=function(e,t){return{onRetry:e?.onRetry||(({attempt:e,attempts:n,delayMs:r})=>t?.trace(`Fetch attempt ${e} (out of ${n}) failed for`,"retrying in",r,"ms")),onSuccessfulRetry:e?.onSuccessfulRetry||(({attempt:e,attempts:n})=>t?.trace(`Fetch attempt ${e} (out of ${n}) succeeded`)),onAllAttemptsFailed:e?.onAllAttemptsFailed||(({attempt:e,attempts:n,delayMs:r,status:o})=>t?.trace("All fetch attempts failed",{attempt:e,attempts:n,delayMs:r,status:o})),attempts:3,...e}}(o,n),a=o?Qn(e,s):fetch(e);n?.trace("just created fetchPromise for",e);const c=this.setPendingPromise(e,a);return r&&(c.moreThanOne=!0),this.clearPromiseAfterComplete(e,a,r),a.then((t=>{c.moreThanOne&&(n?.trace("cloning due to moreThanOne for",e,r),function(e){const t=e.json;e.json=async function(){const n=e.clone();return t.call(n)}}(t))})),a}};function Yn(){return"undefined"!=typeof window?(e=qn,window.fetchOnePromiseService?window.fetchOnePromiseService.getVersion()<e.getVersion()&&(window.fetchOnePromiseService=e):window.fetchOnePromiseService=e,window.fetchOnePromiseService):qn;var e}const Jn=new class{constructor(e){this.trackerGetter=e}trackEvent(e,t,n={}){if(!this.trackerGetter)return;const r=this.trackerGetter();r?.("track",t,{source:e,...n})}}(Hn().getBigBrainTracker),Kn="vulcan_http_retry",Xn="vulcan_http_retry_success",Zn="vulcan_http_retry_all_attempts_failure",er="vulcan_http_response_analysis",tr="vulcan-http-service",nr=new class{constructor(e,t){this._canFeature=e,this._internalFeatures=t}canFeature(e){return!!this._canFeature&&this._canFeature(e)}canUseInternalFeatures(e){return this._internalFeatures[e]}}(Hn().canFeature,window.VulcanInitData?.features||{}),rr={Accept:"*/*"},or={"Content-Type":"application/json"},ir={methodsConfig:{GET:[408,500,502,503,504],POST:[408,502,503,504]},attempts:3,delayMs:0,onRetry:({attempt:e,attempts:t,status:n,url:r})=>{Jn.trackEvent(tr,Kn,{info1:e,info2:t,info3:n,data:{url:r}})},onSuccessfulRetry:({attempt:e,attempts:t,status:n,url:r})=>{Jn.trackEvent(tr,Xn,{info1:e,info2:t,info3:n,data:{url:r}})},onAllAttemptsFailed:({attempt:e,attempts:t,status:n,url:r})=>{Jn.trackEvent(tr,Zn,{info1:e,info2:t,info3:n,data:{url:r}})}},sr=new class{constructor({csrfToken:e,platformHost:t=""}){this.headers={},this.acceptAllHeaders=rr,this.headers["x-csrf-token"]=e,this.baseURL=t,or["x-csrf-token"]=e}async get(e,t={}){return t.params&&(e+="?"+this.generateSearchParams(t.params)),this.request({url:e,method:"GET",headers:t.headers})}async post(e,t,n={}){return this.request({url:e,method:"POST",body:t,headers:n.headers})}async put(e,t,n={}){return this.request({url:e,method:"PUT",body:t,headers:n.headers})}async delete(e,t){return this.request({url:e,method:"DELETE",body:t,headers:rr})}async patch(e,t,n={}){return this.request({url:e,method:"PATCH",body:t,headers:n.headers})}async internalGet(e,t){const n=this.createFetchGetRequest(e,t);return this.getResponseWithOnePromise(n,t.graceTimeMs||3e4)}generateSearchParams(e){const t=new URLSearchParams;return e&&Object.entries(e).forEach((([e,n])=>{Array.isArray(n)?n.forEach((n=>t.append(e,n))):"object"==typeof n&&null!==n?Object.entries(n).forEach((([n,r])=>{t.append(`${e}[${n}]`,r)})):void 0!==n&&t.append(e,n.toString())})),t.toString()}asMFAPIService(){return{get:e=>this.get(e,{headers:rr}),post:(e,t)=>this.post(e,t),put:(e,t,n)=>this.put(e,t,n),delete:e=>this.delete(e),patch:(e,t)=>this.patch(e,t)}}async request({url:e,method:t,headers:n={},body:r}){const o=e.startsWith("/")?e.substring(1):e,i=this.baseURL?[this.baseURL,o].join("/"):e;let s;if(nr.canUseInternalFeatures("retryOnError")){const e=new Request(i,{method:t,headers:{...or,...this.headers,...n},body:r?JSON.stringify(r):void 0});s=await Qn(e,ir)}else s=await fetch(i,{method:t,headers:{...or,...this.headers,...n},body:r?JSON.stringify(r):void 0});await this.handleResponseError(s);const a=await s.json();return nr.canUseInternalFeatures("analyseHttpResponse")&&"GET"===t&&200===s?.status&&this.analyseResponse(a,i),a}analyseResponse(e,t){const n=performance.now();try{const r=(new TextEncoder).encode(JSON.stringify(e)).length;let o=0,i="";if(Array.isArray(e))o=e.length;else if(e&&"object"==typeof e){const t=Object.entries(e).filter((([e,t])=>Array.isArray(t)));if(t.length>0){const e=t.reduce(((e,t)=>t[1].length>e[1].length?t:e),t[0]);i=e[0],o=e[1].length}else o=1}const s=Math.round(performance.now()-n);Jn.trackEvent(tr,er,{info1:r,info2:o,info3:s,data:{url:t,entitiesKey:i}})}catch(r){console.error("Error analysing response",r)}}createFetchGetRequest(e,t){const{params:n,headers:r}=t||{},o=this.generateSearchParams(n);let i;if(this.baseURL){const t=new URL(e,this.baseURL);t.search=o,i=t.toString()}else i=o?`${e}?${o}`:e;const s={...or,...r};return new Request(i.toString(),{method:"GET",headers:new Headers(s)})}async handleResponseError(e){if(!e.ok){let t,n;try{const r=e.clone();n=await r.json(),t=n.message||n.error||JSON.stringify(n)}catch{t=e.statusText}switch(e.status){case 404:throw new Error(`404, Not found: ${t}`);case 500:{const e=new Error(`500, Internal server error: ${t}`);throw e.errorData=n,e}default:throw new Error(`HTTP error! status: ${e.status}, message: ${t}`)}}}async getResponseWithOnePromise(e,t){return(await Yn().fetchWithOnePromise(e,{graceTimeMs:t})).json()}}({csrfToken:Hn().csrfToken,platformHost:Hn().platformHost}),ar=e=>{Gn().boardNotifications.setState((t=>({...t,notifications:{...t.notifications,[e.id]:e}})))},cr=async(e,t=!1)=>{const n=Gn().boardNotifications,r=n.getState().notifications[e];if(r?.isActive&&(n.setState((t=>({...t,notifications:{...t.notifications,[e]:{...r,isActive:!1,deletedAt:Date.now()}}}))),!t))try{await async function(e){await sr.delete(`/board-agents/boardNotifications/${e}`)}(e)}catch(o){throw n.setState((t=>{const n=t.notifications[e];return{...t,notifications:{...t.notifications,[e]:{...n,isActive:!0,deletedAt:void 0}}}})),o}},ur=Object.freeze(Object.defineProperty({__proto__:null,addNotification:ar,deleteNotification:cr,dismissNotification:async e=>{const t=Gn().boardNotifications,n=t.getState().notifications[e];if(n?.isActive){t.setState((t=>({...t,notifications:{...t.notifications,[e]:{...n,isActive:!1}}})));try{await async function(e){await sr.post(`/board-agents/boardNotifications/${e}/dismiss`)}(e)}catch(r){throw t.setState((t=>{const n=t.notifications[e];return{...t,notifications:{...t.notifications,[e]:{...n,isActive:!0}}}})),r}}}},Symbol.toStringTag,{value:"Module"}));let lr=!1;const fr="board_notification__created",hr="board_notification__deleted";function dr(){if(lr)return;const{pusherService:e}=r(),t=e.getUserChannel();e.subscribeToChannel(t.name,{},((e,t)=>{e===fr?ar(t):e===hr&&function(e){e.notificationId&&cr(e.notificationId,!0)}(t)})),lr=!0}const pr=Vn((async(e,t)=>{const n=Gn().boardNotifications;try{const e=await async function(e){const{boardNotifications:t}=await sr.get(`/board-agents/boardNotifications/board/${e}`);return t}(t);return n.setState((t=>{const n=$n(e,"id");return{...t,notifications:{...t.notifications,...n}}})),dr(),xn(he,t)}catch(r){throw r}})),yr=Vn((async(e,t,n)=>(await pr(t).wait({force:e.isForceExecution}),xn(pe,t,n)))),br=Vn((async(e,t)=>(await pr(t).wait({force:e.isForceExecution}),xn(ye,t)))),gr=Object.freeze(Object.defineProperty({__proto__:null,getItemBoardNotification:yr,getNotifications:pr,getSmartfillNotifications:br},Symbol.toStringTag,{value:"Module"})),vr=new class extends re{constructor(){super(...arguments),this.queries=gr,this.selectors=be,this.constants=fe,this.actions=ur}}(ce,{notifications:{}}),mr={[ce]:vr},_r=Object.freeze(Object.defineProperty({__proto__:null,init:function(){((e=!1)=>{ae(mr,[],e)})()}},Symbol.toStringTag,{value:"Module"})),{init:wr,updateInitialData:Sr,unmount:Or,render:jr}=_r,Ar=e=>{if(e)return(...t)=>{try{e(...t)}catch(Pr){const{loggerService:t}=r();throw t?t.error(Pr):console.error(Pr),Pr}}};globalThis["MF-mf-board-notifications-store"]={init:({api:e,...t})=>{const o=(e=>new Proxy(e,{get(e,t){if("loggerService"===t&&e.loggerService){const{loggerService:t}=e;return{...t,error:(e,n,r)=>{t.error(e,n,r,"mf-board-notifications-store")}}}return e[t]}}))(e);!function(e){n=e}(o),function(e={release:"",dsn:"",environment:"",origin:""}){const{project:t,release:n,dsn:o,environment:i,origin:s}=e,{loggerService:a}=r();a&&t&&n&&o&&a.addClient(t,{release:n,dsn:o,environment:i,origin:s})}({project:"mf-board-notifications-store",release:"07aa28bf70c133fc9740c8783e1011a247b12198",dsn:"https://7f3d9c67aeeb74997c7c68a28600bb00@o916138.ingest.us.sentry.io/4509627179663360",environment:"production",origin:"https://microfrontends.monday.com/mf-board-notifications-store"}),Ar(wr)({api:o,...t})},render:Ar(jr),updateInitialData:Ar(Sr),unmount:Ar(Or)}}},function(){return t||(0,e[n(e)[0]])((t={exports:{}}).exports,t),t.exports});export default r();
