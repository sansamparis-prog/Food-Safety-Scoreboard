try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5593683a-a8fa-40f4-8b68-be837aa90fbe",e._sentryDebugIdIdentifier="sentry-dbid-5593683a-a8fa-40f4-8b68-be837aa90fbe")}catch(Lt){}let e;function t(){if(!e)throw new Error('API was not set yet, using the API is only possible after the "init" function has been called');return e}var n,r,s,o,i,a,c,u,l,d,h,f,p,m,g,y,b,w,S,v,P;(r=n||(n={}))[r.OwnersOnly=30]="OwnersOnly",r[r.StructureAndContent=20]="StructureAndContent",r[r.ContentOnly=10]="ContentOnly",r[r.Assignee=5]="Assignee",r[r.ReadOnly=0]="ReadOnly",(o=s||(s={}))[o.Public=1]="Public",o[o.Closed=2]="Closed",o[o.Hidden=3]="Hidden",o[o.Template=4]="Template",(a=i||(i={})).Board="board",a.Workspace="workspace",a.Overview="overview",a.Item="item",a.Group="group",a.User="user",a.File="file",a.Folder="folder",a.Doc="doc",(u=c||(c={})).Yearly="yearly",u.Monthly="monthly",u.Biennially="two_yearly",(d=l||(l={})).Core="core",d.CRM="crm",d.Marketing="marketing",d.Software="software",d.ProjectManagement="project_management",d.Forms="forms",d.Whiteboard="whiteboard",d.Knowledge="knowledge",d.Workflows="workflows",(f=h||(h={})).CORE="10093110",f.CRM="10071386",f.SOFTWARE="10093550",l.Core,l.CRM,l.Marketing,l.Software,l.ProjectManagement,l.Forms,l.Whiteboard,l.Knowledge,l.Workflows,(m=p||(p={})).CUSTOM="custom",m.STATIC="static",m.APP="app_recipe",m.WORKFLOW="workflow",(y=g||(g={})).MONDAY="monday",y.APPS="apps",(b||(b={})).HIPAA="hipaa",(S=w||(w={})).crmGlobalSettings="CRM_SETTINGS",S.whatIsNewPane="WHAT_IS_NEW",S.appColumnExtension="APP_COLUMN_EXTENSION",S.appFeature="APP_FEATURE",S.devTeamSettings="DEV_TEAM_SETTINGS",S.leadsExpert="LEADS_EXPERT",(P=v||(v={})).MY_PERMISSIONS="my-permissions",P.DEFAULT="default";for(var C,E=[],I=0;I<256;++I)E.push((I+256).toString(16).slice(1));var A=new Uint8Array(16);function k(){if(!C&&!(C="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C(A)}const _={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function T(e,t,n){if(_.randomUUID&&!e)return _.randomUUID();var r=(e=e||{}).random||(e.rng||k)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e,t=0){return(E[e[t+0]]+E[e[t+1]]+E[e[t+2]]+E[e[t+3]]+"-"+E[e[t+4]]+E[e[t+5]]+"-"+E[e[t+6]]+E[e[t+7]]+"-"+E[e[t+8]]+E[e[t+9]]+"-"+E[e[t+10]]+E[e[t+11]]+E[e[t+12]]+E[e[t+13]]+E[e[t+14]]+E[e[t+15]]).toLowerCase()}(r)}function O(e=[]){return e.map((e=>function(e){return JSON.stringify(e,((e,t)=>t?.constructor===Object?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}(e))).join(",")}var M=e=>Array.isArray(e)?e:[e];function j(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var R="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function N(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let s,o=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const a=t;let c;if(1===t.s)c=t.v;else if(c=e.apply(null,arguments),o++,r){const e=s?.deref?.()??s;null!=e&&r(e,c)&&(c=e,0!==o&&o--);s="object"==typeof c&&null!==c||"function"==typeof c?new R(c):c}return a.s=1,a.v=c,c}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function F(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,s=0,o={},i=e.pop();"object"==typeof i&&(o=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const a={...n,...o},{memoize:c,memoizeOptions:u=[],argsMemoize:l=N,argsMemoizeOptions:d=[]}=a,h=M(u),f=M(d),p=j(e),m=c((function(){return r++,i.apply(null,arguments)}),...h),g=l((function(){s++;const e=function(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}(p,arguments);return t=m.apply(null,e),t}),...f);return Object.assign(g,{resultFunc:i,memoizedResultFunc:m,dependencies:p,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:l})};return Object.assign(r,{withTypes:()=>r}),r}var $=F(N),D=Object.assign(((e,t=$)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>D});class x{constructor(e,t,n,r,s){this.selector=null,this.unsubscribers=[],this.getQueryState=()=>this.store.getQueryState(this.id,this.cacheId),this.setQueryState=e=>{this.store.setQueryState(this.id,this.cacheId,e)},this.wait=async(e={force:!1})=>{if(e.force&&await this.run(!0),await this.runIfNeeded(),this.getQueryState().error)throw this.getQueryState().error;return this.selector(this.store.getState())},this.id=e,this.asyncSelectorCreator=n,this.args=r,this.cacheId=t,this.getStore=s,this.cachedSelector=$((e=>this.selector?.(e)??null),this.getQueryState,((e,t)=>({data:e,force:()=>{this.run(!0)},loaded:t.loaded,error:t.error,promise:t.promise,isFetching:t.isFetching})))}get store(){return this.getStore()}clearState(){this.setQueryState({loaded:!1,promise:null,error:null,isFetching:!1})}async runIfNeeded(e){const{promise:t}=this.getQueryState(),{skipExecution:n}=e||{};if(!n)if(t)try{await t}catch(r){}else await this.run()}rerunOnChange(e){let t=e(this.store.getState());const n=this.store.subscribe((()=>{const n=e(this.store.getState());n!==t&&(t=n,this.run())}));return this.unsubscribers.push(n),t}async run(e=!1){this.unsubscribers.forEach((e=>e()));try{const t=this.asyncSelectorCreator({rerunOnChange:e=>this.rerunOnChange(e),isForceExecution:e,setQueryState:e=>this.setQueryState(e)},...this.args);this.setQueryState({...this.getQueryState(),isFetching:!0,promise:t}),this.selector=await t,this.setQueryState({loaded:!0,isFetching:!1})}catch(t){this.setQueryState({error:t,isFetching:!1})}}}const L=e=>t=>{const n=T(),r=new Map,s=(...s)=>{const o=O(s);let i=r.get(o);return i||(i=new x(n,o,t,s,e),r.set(o,i)),i};return s.queryId=n,s.clearCache=()=>{r.forEach((e=>e.clearState()))},s},U={},B=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach((n=>n(t,e)))}},s=()=>t,o={setState:r,getState:s,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(U?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,s,o);return o};var G,V;(V=G||(G={}))[V.RunOnce=0]="RunOnce",V[V.Batch=1]="Batch";const H=(e=G.Batch)=>{let t=[],n=null;const r=()=>{n||(n=Promise.resolve().then((()=>{(()=>{const e=t;t=[],n=null,e.forEach((e=>e()))})()})))};return s=>(e===G.RunOnce&&n||(r(),t.push(s)),n)},W=H(G.RunOnce);const z=new class{constructor(){this.isLocked=!1,this.handlers=[],this.isPending=!1}addHandler(e){this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e))}sync(){return this.isLocked?Promise.resolve():this.handlers.length>0?(this.isPending=!0,W((()=>this.handlers.forEach((e=>e()))))?.then((()=>{this.isPending=!1}))):(this.handlers.forEach((e=>{e()})),Promise.resolve())}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}},Q=Symbol.for("vulcan_query");function q(e){const t=e;return t.useQueryHookFactory=Y,t.getQueryState=function(e){return(t,n)=>{const{getState:r}=e,s=r()[Q]?.[t]?.[n];return s?r()[Q][t]?.[n]:J}}(t),t.setQueryState=function({setState:e}){return(t,n,r)=>{e((e=>({[Q]:{...e[Q],[t]:{...e[Q]?.[t],[n]:{...e[Q][t]?.[n],...r}}}})))}}(t),t.createQuery=L((()=>t)),t.setState({[Q]:{}}),t}function Y(e){return(t,n)=>(Promise.resolve().then((()=>{t.runIfNeeded(n)})),e(t.cachedSelector))}const J={loaded:!1,promise:null,error:null,isFetching:!1};const K=Symbol("ACTION_ID"),X=(e,t)=>{const n=e;return n.actionsListeners=new Map,n.onAction=function(e){return(t,n)=>{const r=t[K];return e.actionsListeners.has(r)?e.actionsListeners.get(r)?.push(n):e.actionsListeners.set(r,[n]),()=>{e.actionsListeners.delete(r)}}}(n),function(e,t){Object.values(e).forEach((n=>{if(n.actions){const r=n;r.actions={...r.actions},Object.keys(r.actions).forEach((n=>{const s=function(e,t,n,r){let s=e=>n(...e.args);return[...r].reverse().forEach((e=>{s=e(s)})),(...r)=>{const o=n?.metaCreator?.(...r),i={name:e,args:r,path:`${t}.${e}`};o&&(i.meta=o);return s(i)}}(n,r.name,r.actions[n],t),o=function(e,t,n,r){const s=`${n.name}.${r}`,o=(...o)=>{const i=e(...o),a=()=>t.actionsListeners.get(s)?.forEach((e=>e({name:r,args:o,path:`${n.name}.${r}`})));return i instanceof Promise?i.then((e=>(a(),e))):(a(),i)};return o[K]=s,o}(s,e,r,n);r.actions[n]=o}))}}))}(n,t),n};const Z=(e,t=[])=>{const n=q((e=>{const t=H(G.Batch),n=e.subscribe;return e.subscribe=e=>{const r=new Set,s=(n,o)=>{z.isLocked?t((()=>{r.has(s)?r.delete(s):e(n,o)})):e(n,o)},o=n(s);return()=>{r.add(s),o()}},e})((r=()=>({}))?B(r):B));var r;return n.instanceIdentifier||(n.instanceIdentifier={}),Object.values(e).forEach((e=>{!function(e,t){e[t.name]=t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(n,e),e.init(n)})),"undefined"!=typeof window&&window.VulcanInitData?.features?.useMiddleware&&X(n,t),n.syncToRedux=e=>z.addHandler((()=>e({type:"vulcan_v2"}))),n.subscribe((()=>z.sync())),n};var ee;class te{constructor(e,t,n={}){this.selectors={},this.publicSelectors=null,this.allSelectors=null,this.actions={},this.queries={},this.createQuery=L((()=>this.store)),ee.set(this,void 0);const{skipStateInitialization:r=!1}=n;this.name=e,this.initialState=t,this.selectors={...this.selectors},function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,n)}(this,ee,r)}init(e){this.store=e,this.getState=function(e,t){return()=>e.getState()[t]}(e,this.name),this.setState=function(e,t){return(n,r=!1)=>{let s=n;if("function"==typeof n){const r=e.getState()[t];s=n(r)}var o;r||(o=s,!0===o?.["@@__IMMUTABLE_MAP__@@"])?e.setState({[t]:s}):e.setState((e=>({[t]:{...e[t],...s}})))}}(e,this.name),this.selectors&&Object.entries(this.selectors).forEach((([t,n])=>{n.attribution||(n.attribution={}),n.attribution.sliceName=this.name,n.attribution.selectorName=t,n.attribution.instanceIdentifier=e.instanceIdentifier})),this.publicSelectors&&Object.keys(this.publicSelectors).length>0&&(this.allSelectors={...this.selectors},this.selectors={...this.publicSelectors}),function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(this,ee)||this.setState(this.initialState,!0)}get state(){return this.getState()}clear(){this.setState(this.initialState,!0)}asReducer(e){return((e,{setState:t,getState:n})=>{const r=(r,s)=>{const o="vulcan_v2"===s.type;if(!o&&z.isPending&&e.isVulcanV1Reducer&&e(n(),{type:"vulcan_v2_force_update"}),!o){const r=n(),o=e(r,s);r!==o&&(z.lock(),t(o,!0),z.unlock())}return o&&e.isVulcanV1Reducer?e(n(),{type:"vulcan_v2_force_update"}):n()};return r.isVulcanV2Reducer=!0,r})(e,this)}getSliceSize(){return 0}}ee=new WeakMap;new class{constructor(e){this.trackerGetter=e}trackTtlCacheEvent(e,t={}){if(!this.trackerGetter)return;const n=this.trackerGetter();n?.("track",e,{source:"vulcan-core",...t})}trackEvent(e,t,n={}){if(!this.trackerGetter)return;const r=this.trackerGetter();r?.("track",t,{source:e,...n})}}(("undefined"==typeof window?{}:window.VulcanInitData?.servicesInitParams||{}).getBigBrainTracker),new FinalizationRegistry((({ref:e,handler:t})=>{t(e)}));var ne='"mf-boards-store"';const re=e=>window?.microfrontends?.vulcanStores?.[e?.replaceAll('"',"")],se=()=>ne,oe=(e,t=[],n=!1)=>{const r=se();if(!re(r)||n){((e,t)=>{var n;window.microfrontends||(window.microfrontends={}),(n=window.microfrontends).vulcanStores||(n.vulcanStores={});const r=e?.replaceAll('"',"");t.instanceIdentifier||(t.instanceIdentifier={}),t.instanceIdentifier.id=r,window.microfrontends.vulcanStores[r]=t})(r,Z(e,t))}return re(r)};("undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"07aa28bf70c133fc9740c8783e1011a247b12198"};const ie=()=>{const e=se();return re(e)},ae=L(ie),ce="board",ue=()=>ie()[ce].getState();function le(e,t){const n=ue().boards[t];return n?.aiCreationProgress??null}function de(e,t){const n=ue().boards[t];return n?.activeAgents??null}const he=Object.freeze(Object.defineProperty({__proto__:null,getAICreationProgressState:le,getActiveAgents:de,getShouldShowAICreationComplete:function(e,t){const n=le(0,t);return!0===n?.showComplete},getShouldShowAICreationProgress:function(e,t){const n=le(0,t);return!0===n?.showProgress}},Symbol.toStringTag,{value:"Module"}));function fe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function pe(){return window.VulcanInitData?.servicesInitParams||{}}F({memoize:N,memoizeOptions:{resultEqualityCheck:function(e,t){if(e===t)return!0;const n=!e,r=!t;if(n&&r)return!0;if(r!==n)return!1;if(!fe(e)||!fe(t))return e===t;const s=Object.keys(e),o=s.length,i=Object.keys(t).length;if(o!==i)return!1;for(const a of s)if(e[a]!==t[a])return!1;return!0}}});const me={USER_CHANNEL:"user",ACCOUNT_CHANNEL:"account",DYNAMIC_CHANNEL:"dynamic"};class ge{constructor(e,t){this.socketIdGetter=void 0,this.globalPusherService=null,this.unsubscribeCallbackByChannelName={},this.callbacksByEventAndChannel={},this.pendingSlicePusherConfigs=[],this.channelNames=me,this.initPromise=new Promise(((n,r)=>{t?t().then((e=>{this.globalPusherService=e,this.subscribePendingSlices(),n(!0)})).catch((t=>{this.socketIdGetter=e,console.error("Error while getting global pusher service",t),r(!1)})):this.socketIdGetter=e}))}subscribeSlice(e,t){this.pendingSlicePusherConfigs.push({slice:e,pusherConfig:t}),this.subscribePendingSlices()}subscribePendingSlices(){if(!this.globalPusherService)return;const e=this.pendingSlicePusherConfigs;this.pendingSlicePusherConfigs=[],e.forEach((({slice:e,pusherConfig:t})=>{Object.entries(t).forEach((([t,n])=>{Object.entries(n).forEach((([n,r])=>{const s=this.getActualChannelName(t);this.subscribeToChannel(s,n,(t=>r(e,t)))}))}))}))}subscribeToChannel(e,t,n){if(!this.globalPusherService||!e)return()=>{};if(!this.callbacksByEventAndChannel[e]&&(this.callbacksByEventAndChannel[e]={},e!==this.channelNames.DYNAMIC_CHANNEL)){const t=(t,n,r)=>{(this.callbacksByEventAndChannel[e][t]||[]).forEach((e=>e(n)))},n=this.globalPusherService.bindCustomChannel(e,t);this.unsubscribeCallbackByChannelName[e]=n}return this.callbacksByEventAndChannel[e][t]=this.callbacksByEventAndChannel[e][t]||[],this.callbacksByEventAndChannel[e][t].push(n),this.unsubscribeCallbackByChannelName[e]}unsubscribeFromChannel(e,t,n){const r=this.callbacksByEventAndChannel[e];r&&r[t]&&(r[t]=r[t].filter((e=>e!==n)),0===r[t].length&&delete r[t],0===Object.keys(r).length&&(delete this.callbacksByEventAndChannel[e],this.unsubscribeAllFromChannel(e)))}unsubscribeAllFromChannel(e){this.unsubscribeCallbackByChannelName[e]&&(this.unsubscribeCallbackByChannelName[e](),delete this.unsubscribeCallbackByChannelName[e])}getActualChannelName(e){let t=null;if(!this.globalPusherService)return null;switch(e){case this.channelNames.ACCOUNT_CHANNEL:t=this.globalPusherService.getAccountChannel();break;case this.channelNames.USER_CHANNEL:t=this.globalPusherService.getUserChannel();break;case this.channelNames.DYNAMIC_CHANNEL:t={name:e};break;default:throw new Error(`Unknown channel name: ${e}`)}return t?.name}getSocketId(){return this.globalPusherService?this.globalPusherService.getSocketId():this.socketIdGetter?this.socketIdGetter():""}getPusherSocketIdHeader(){return{"x-pulse-pusher-socketid":this.getSocketId()}}handleDynamicChannelPusherEvent(e,t){this.callbacksByEventAndChannel[this.channelNames.DYNAMIC_CHANNEL]?.[e]?.forEach((e=>e(t)))}}(()=>{const e="undefined"!=typeof window?window:self,t="__vulcan_pusher_service__";e[t]||(e[t]=new ge(pe().getSocketId,pe().getPusherServicePromise)),e[t]})();const ye=()=>{const e=(()=>{const e=document.querySelector("meta[name=csrf-token]");return e?.content})();return e?{"X-CSRF-Token":e}:{}},be="POST",we="GET",Se="PUT",ve="DELETE",Pe="PATCH";const Ce=async(e,t,n=null,r={})=>{e=(e=>e?.toUpperCase())(e);const s=window.Pulse?.Globals?.build_timestamp,o={"X-BT":s,...r?.headers};!function(e){Object.assign(e,ye())}(o);const i={method:e,headers:o};if(r.formData)i.body=n;else if(i.headers["Content-Type"]="application/json",e!==we)i.body=function(e,t){return t&&e!==we?JSON.stringify(t):t}(e,n);else{const e=n?.params,r=function(e){if(!e)return"";const t=new URLSearchParams;for(const n in e){const r=e[n];void 0!==r&&(Array.isArray(r)?r.forEach((e=>t.append(n,e))):t.append(n,r))}return t.toString()}(e);r&&(t.endsWith("?")&&(t=t.slice(0,-1)),t.includes("?")?t+=`&${r}`:t+=`?${r}`)}const a=await fetch(t,i);return await async function(e){if(!e.ok){let t,n,r;try{const r=e.clone();n=await r.json(),t=n.message||n.error||JSON.stringify(n)}catch{t=e.statusText}switch(e.status){case 404:throw new Error(`404, Not found: ${t}`);case 500:throw r=new Error(`500, Internal server error: ${t}`),r.errorData=n,r;default:throw new Error(`HTTP error! status: ${e.status}, message: ${t}`)}}}(a),r.skipJsonResponse?a:a.json()};function Ee(e,t,n){const{methodsConfig:r,attempts:s,delayMs:o,onRetry:i,onSuccessfulRetry:a,onAllAttemptsFailed:c}=t,u=o??1e3;return new Promise(((t,o)=>{let l=1;const d=()=>{const h="string"==typeof e?e:e.url;let f;const p=function(e){return"string"!=typeof e?e?.clone():e}(e),m=function(e,t){return t?.method?t.method:"string"==typeof e?"GET":e.method}(e,n);fetch(p,n).then((e=>{if(f=e.status,e.ok)1!==l&&a?.({attempt:l,attempts:s,delayMs:u,status:f,url:h});else if(function(e,t,n){if(!e||0===Object.keys(e).length)return!0;const r=e[n];return r?.includes(t)}(r,f,m))throw new Error(`Attempt ${l} - Fetch failed with status ${f}`);t(e)})).catch((e=>{l<s?(i?.({attempt:l,attempts:s,delayMs:u,status:f,url:h}),l++,setTimeout(d,u)):(c?.({attempt:l,attempts:s,delayMs:u,status:f,url:h}),o(e))}))};d()}))}const Ie=new class{constructor(){this.pendingPromises=new Map,this.serviceVersion=1}getVersion(){return this.serviceVersion}getPendingId(e){return"string"==typeof e?`GET.${e}`:`${e.method?.toUpperCase()||"GET"}.${e.url}`}clearPromise(e,t){const n=this.getPendingId(e);this.pendingPromises.get(n)?.promise===t&&this.pendingPromises.delete(n)}setPendingPromise(e,t){const n={promise:t};return this.pendingPromises.set(this.getPendingId(e),n),n}clearPromiseAfterComplete(e,t,n){const r=()=>{n?setTimeout((()=>{this.clearPromise(e,t)}),n):this.clearPromise(e,t)};t.then(r).catch(r)}getPendingPromise(e){if(this.pendingPromises.get(this.getPendingId(e)))return async function(t,n){const r=n(e);return(await t.get(r).promise).clone()}(this.pendingPromises,this.getPendingId)}fetchWithOnePromise(e,t={}){const{log:n,graceTimeMs:r,retry:s}=t,o=this.getPendingPromise(e);if(o)return this.pendingPromises.get(this.getPendingId(e)).moreThanOne=!0,n?.trace("existing fetchPromise for",e),o;const i=function(e,t){return{onRetry:e?.onRetry||(({attempt:e,attempts:n,delayMs:r})=>t?.trace(`Fetch attempt ${e} (out of ${n}) failed for`,"retrying in",r,"ms")),onSuccessfulRetry:e?.onSuccessfulRetry||(({attempt:e,attempts:n})=>t?.trace(`Fetch attempt ${e} (out of ${n}) succeeded`)),onAllAttemptsFailed:e?.onAllAttemptsFailed||(({attempt:e,attempts:n,delayMs:r,status:s})=>t?.trace("All fetch attempts failed",{attempt:e,attempts:n,delayMs:r,status:s})),attempts:3,...e}}(s,n),a=s?Ee(e,i):fetch(e);n?.trace("just created fetchPromise for",e);const c=this.setPendingPromise(e,a);return r&&(c.moreThanOne=!0),this.clearPromiseAfterComplete(e,a,r),a.then((t=>{c.moreThanOne&&(n?.trace("cloning due to moreThanOne for",e,r),function(e){const t=e.json;e.json=async function(){const n=e.clone();return t.call(n)}}(t))})),a}};function Ae(){return"undefined"!=typeof window?(e=Ie,window.fetchOnePromiseService?window.fetchOnePromiseService.getVersion()<e.getVersion()&&(window.fetchOnePromiseService=e):window.fetchOnePromiseService=e,window.fetchOnePromiseService):Ie;var e}const ke=new class{constructor(e,t){this._canFeature=e,this._internalFeatures=t}canFeature(e){return!!this._canFeature&&this._canFeature(e)}canUseInternalFeatures(e){return this._internalFeatures[e]}}(pe().canFeature,window.VulcanInitData?.features||{});const _e=new class{constructor(e){this.trackerGetter=e}trackEvent(e,t,n={}){if(!this.trackerGetter)return;const r=this.trackerGetter();r?.("track",t,{source:e,...n})}}(pe().getBigBrainTracker),Te="vulcan_http_retry",Oe="vulcan_http_retry_success",Me="vulcan_http_retry_all_attempts_failure",je="vulcan_http_response_analysis",Re="vulcan-http-service",Ne={Accept:"*/*"},Fe={"Content-Type":"application/json"},$e={methodsConfig:{GET:[408,500,502,503,504],POST:[408,502,503,504]},attempts:3,delayMs:0,onRetry:({attempt:e,attempts:t,status:n,url:r})=>{_e.trackEvent(Re,Te,{info1:e,info2:t,info3:n,data:{url:r}})},onSuccessfulRetry:({attempt:e,attempts:t,status:n,url:r})=>{_e.trackEvent(Re,Oe,{info1:e,info2:t,info3:n,data:{url:r}})},onAllAttemptsFailed:({attempt:e,attempts:t,status:n,url:r})=>{console.error(`All attempts failed with status ${n} for ${r}`),_e.trackEvent(Re,Me,{info1:e,info2:t,info3:n,data:{url:r}})}};const De=new class{constructor({csrfToken:e,platformHost:t=""}){this.headers={},this.acceptAllHeaders=Ne,this.headers["x-csrf-token"]=e,this.baseURL=t,Fe["x-csrf-token"]=e}async get(e,t={}){return t.params&&(e+="?"+this.generateSearchParams(t.params)),this.request({url:e,method:"GET",headers:t.headers})}async post(e,t,n={}){return this.request({url:e,method:"POST",body:t,headers:n.headers})}async put(e,t,n={}){return this.request({url:e,method:"PUT",body:t,headers:n.headers})}async delete(e,t){return this.request({url:e,method:"DELETE",body:t,headers:Ne})}async patch(e,t,n={}){return this.request({url:e,method:"PATCH",body:t,headers:n.headers})}async internalGet(e,t){const n=this.createFetchGetRequest(e,t);return this.getResponseWithOnePromise(n,t.graceTimeMs||3e4)}generateSearchParams(e){const t=new URLSearchParams;return e&&Object.entries(e).forEach((([e,n])=>{Array.isArray(n)?n.forEach((n=>t.append(e,n))):"object"==typeof n&&null!==n?Object.entries(n).forEach((([n,r])=>{t.append(`${e}[${n}]`,r)})):void 0!==n&&t.append(e,n.toString())})),t.toString()}asMFAPIService(){return{get:e=>this.get(e,{headers:Ne}),post:(e,t)=>this.post(e,t),put:(e,t,n)=>this.put(e,t,n),delete:e=>this.delete(e),patch:(e,t)=>this.patch(e,t)}}async request({url:e,method:t,headers:n={},body:r}){const s=e.startsWith("/")?e.substring(1):e,o=this.baseURL?[this.baseURL,s].join("/"):e,i={method:t,headers:{...Fe,...this.headers,...n},body:r?JSON.stringify(r):void 0},a=await Ee(o,$e,i);await this.handleResponseError(a);const c=await a.json();return ke.canUseInternalFeatures("analyseHttpResponse")&&"GET"===t&&200===a?.status&&this.analyseResponse(c,o),c}analyseResponse(e,t){const n=performance.now();try{const r=(new TextEncoder).encode(JSON.stringify(e)).length;let s=0,o="";if(Array.isArray(e))s=e.length;else if(e&&"object"==typeof e){const t=Object.entries(e).filter((([e,t])=>Array.isArray(t)));if(t.length>0){const e=t.reduce(((e,t)=>t[1].length>e[1].length?t:e),t[0]);o=e[0],s=e[1].length}else s=1}const i=Math.round(performance.now()-n);_e.trackEvent(Re,je,{info1:r,info2:s,info3:i,data:{urlBase:t?.split("?")[0]||"",urlParams:t?.includes("?")?t.substring(t.indexOf("?")+1):"",entitiesKey:o}})}catch(r){console.error("Error analysing response",r)}}createFetchGetRequest(e,t){const{params:n,headers:r}=t||{},s=this.generateSearchParams(n);let o;if(this.baseURL){const t=new URL(e,this.baseURL);t.search=s,o=t.toString()}else o=s?`${e}?${s}`:e;const i={...Fe,...r};return new Request(o.toString(),{method:"GET",headers:new Headers(i)})}async handleResponseError(e){if(!e.ok){let t,n,r;try{const r=e.clone();n=await r.json(),t=n.message||n.error||JSON.stringify(n)}catch{t=e.statusText}switch(e.status){case 404:r=new Error(`404, Not found: ${t}`);break;case 500:r=new Error(`500, Internal server error: ${t}`);break;default:r=new Error(`HTTP error! status: ${e.status}, message: ${t}`)}throw r.errorData=n,r}}async getResponseWithOnePromise(e,t){return(await Ae().fetchWithOnePromise(e,{graceTimeMs:t})).json()}}({csrfToken:pe().csrfToken,platformHost:pe().platformHost});const xe=ae((async(e,t)=>{const n=ie().board;try{const e=await async function(e){const{agents:t}=await De.get(`/monday-agents/agent-management/agents-by-scope/board/${e}`);return t.map((e=>Number(e.appFeatureId)))}(t);return n.setState((n=>({...n,boards:{...n.boards,[t]:{...n.boards[t],activeAgents:e}}}))),function(e,...t){return n=>e(n,...t)}(de,t)}catch(r){throw r}})),Le=Object.freeze(Object.defineProperty({__proto__:null,getActiveAgents:xe},Symbol.toStringTag,{value:"Module"}));const Ue={showProgress:function(e){const t=ie()[ce],n=t.getState();t.setState({boards:{...n.boards,[e]:{...n.boards[e],aiCreationProgress:{showProgress:!0,showComplete:!1}}}})},showComplete:function(e){const t=ie()[ce],n=t.getState();t.setState({boards:{...n.boards,[e]:{...n.boards[e],aiCreationProgress:{showProgress:!1,showComplete:!0}}}})},hideProgress:function(e){const t=ie()[ce],n=t.getState();t.setState({boards:{...n.boards,[e]:{...n.boards[e],aiCreationProgress:null}}})},setActiveAgents:function(e,t){const n=ie()[ce],r=n.getState();n.setState({boards:{...r.boards,[e]:{...r.boards[e],activeAgents:t}}})},clearActiveAgents:function(e){const t=ie()[ce],n=t.getState();t.setState({boards:{...n.boards,[e]:{...n.boards[e],activeAgents:null}}})}};const Be=new class extends te{constructor(){super(...arguments),this.queries=Le,this.selectors=he,this.actions=Ue}}(ce,{boards:{}}),Ge="itemCard";function Ve(e){const t=ie()[Ge].getState();return t?.itemCardModals||{}}const He=Object.freeze(Object.defineProperty({__proto__:null,getItemCardModal:function(e,t){return Ve()[t]},getItemCardModals:Ve,getItemCardModalsByBoardIds:function(e,t){const n={},r=Ve();return t.forEach((e=>{const t=r[e];t&&(n[e]=t)})),n}},Symbol.toStringTag,{value:"Module"}));const We={openItemCardModal:function(e,t,n){const r=ie()[Ge],s=r.getState();r.setState({...s,itemCardModals:{...s.itemCardModals,[e]:{mode:t,itemCardModalProps:n}}})},closeItemCardModal:function(e){const t=ie()[Ge],n=t.getState();if(n.itemCardModals?.[e]){const{[e]:r,...s}=n.itemCardModals;t.setState({...n,itemCardModals:s})}}};const ze=new class extends te{constructor(){super(...arguments),this.selectors=He,this.actions=We}}(Ge,{itemCardModals:{}}),Qe="columns";function qe(e,t){return`${e}_${t}`}const Ye=()=>ie()[Qe].getState();function Je(e,t,n){const r=Ye(),s=qe(t,n),o=r.columns[s];return o?.isSmartfillCandidate??!1}const Ke=Object.freeze(Object.defineProperty({__proto__:null,getAiPreviewConfig:function(e,t,n){const r=Ye(),s=qe(t,n),o=r.columns[s];return o?.aiPreviewConfig??null},getAiPreviewTipseenConfig:function(e,t,n){const r=Ye(),s=qe(t,n),o=r.columns[s];return o?.aiPreviewTipseenConfig??null},getFirstColumnIdInPreviewAiMode:function(e){const t=Ye(),n=`${e}_`;for(const r of Object.keys(t.columns))if(r.startsWith(n)&&t.columns[r]?.isPreviewAiMode)return r.slice(n.length);return null},getIsItemInPreview:function(e,t,n,r){const s=Ye(),o=qe(t,n),i=s.columns[o];return!!i?.isPreviewAiMode&&(i?.previewItemIds?.includes(r)??!1)},getIsPreviewAiMode:function(e,t,n){const r=Ye(),s=qe(t,n),o=r.columns[s];return o?.isPreviewAiMode??!1},getIsSmartfillCandidate:Je},Symbol.toStringTag,{value:"Module"})),Xe={};function Ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var et,tt,nt,rt,st={exports:{}},ot={},it={exports:{}},at={};function ct(){return tt||(tt=1,it.exports=function(){if(et)return at;et=1;
/**
   * @license React
   * use-sync-external-store-shim.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
var e=globalThis["React-18"],t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function i(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(s){return!0}}var a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),c=n({inst:{value:a,getSnapshot:t}}),u=c[0].inst,l=c[1];return s((function(){u.value=a,u.getSnapshot=t,i(u)&&l({inst:u})}),[e,a,t]),r((function(){return i(u)&&l({inst:u}),e((function(){i(u)&&l({inst:u})}))}),[e]),o(a),a};return at.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:a,at}()),it.exports}const ut=Ze((rt||(rt=1,st.exports=function(){if(nt)return ot;nt=1;
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
var e=globalThis["React-18"],t=ct(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,i=e.useMemo,a=e.useDebugValue;return ot.useSyncExternalStoreWithSelector=function(e,t,c,u,l){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=i((function(){function e(e){if(!o){if(o=!0,r=e,e=u(e),void 0!==l&&h.hasValue){var t=h.value;if(l(t,e))return s=t}return s=e}if(t=s,n(r,e))return t;var i=u(e);return void 0!==l&&l(t,i)?t:(r=e,s=i)}var r,s,o=!1,i=void 0===c?null:c;return[function(){return e(t())},null===i?void 0:function(){return e(i())}]}),[t,c,u,l]);var f=r(e,d[0],d[1]);return o((function(){h.hasValue=!0,h.value=f}),[f]),a(f),f},ot}()),st.exports)),lt={},dt=globalThis["React-18"],{useDebugValue:ht}=dt,{useSyncExternalStoreWithSelector:ft}=ut;let pt=!1;const mt=e=>e;const gt=e=>window?.microfrontends?.vulcanStores?.[e?.replaceAll('"',"")],yt={},bt=((e,t)=>{const n=((e,t)=>new Proxy(yt,{get(n,r){if("__esModule"===r)return n[r];const s=e();if(!s)throw new Error("Trying to access Vulcan instance before it was initialized on the window");return"useSelector"===r?t:"useQuery"===r?s.useQueryHookFactory(t):s[r]}}))((()=>gt(e)),(n=>t(gt(e),n)));return n})("mf-vulcan",(function(e,t=mt,n){"production"!==(lt?"production":void 0)&&n&&!pt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pt=!0);const r=ft(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ht(r),r}));function wt(e,n={}){t().trackingService?.track(e,"","mf-boards-store",n)}const St=(e,n,r)=>{t().loggerService.error(e,n,r)},vt="aiPreviewColumns";function Pt(e,t){return`${e}_${t}`}function Ct(e,t,n){const r=ie()[Qe],s=r.getState(),o=Pt(e,t);r.setState({columns:{...s.columns,[o]:{...s.columns[o],isSmartfillCandidate:n}}})}async function Et({boardId:e,columnId:t,itemIds:n,previewConfig:r,tipseenConfig:s,changedItemId:o}){bt.highlightersEntities.actions.addColumnIdToAiPreviewColumns(vt,t);const i=ie()[Qe],a=i.getState(),c=Pt(e,t),u=a.columns[c]?.previewItemIds??[],l=Array.from(new Set([...u,...n??[]])),d=a.columns[c],h=r??{...d?.aiPreviewConfig,...null!=o&&{sourceItemId:o}},f={...d,isPreviewAiMode:!0,aiPreviewConfig:h,aiPreviewTipseenConfig:s??null,previewItemIds:l};i.setState({columns:{...a.columns,[c]:f}}),await bt.itemsExtraData.actions.fetchPreviewDataForColumn({boardId:e,columnId:t,itemIds:n,previewConfig:h})}function It(e,t){bt.highlightersEntities.actions.removeColumnIdFromAiPreviewColumns(vt,t);const n=ie()[Qe],r=n.getState(),s=Pt(e,t);n.setState({columns:{...r.columns,[s]:{...r.columns[s],isPreviewAiMode:!1,aiPreviewConfig:null,aiPreviewTipseenConfig:null}}})}const At={enablePreviewAiMode:Et,disablePreviewAiMode:It,setIsSmartfillCandidate:Ct,acceptAiPreview:async function(e,t){const{apiService:n}=await function(e,t){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),s=r?.nonce||r?.getAttribute("nonce");n=e(t.map((e=>{if((e=function(e){return"https://microfrontends.monday.com/mf-boards-store/latest/"+e}(e))in Xe)return;Xe[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then((t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)}))}((async()=>{const{apiService:e}=await import("./static/js/index.kTPl5rFt.chunk.js");return{apiService:e}}),[]),r=ie()[Qe],s=Pt(e,t),o=r.getState().columns[s],i=o?.aiPreviewConfig;if(wt("ai_preview_accepted",{board_id:e,column_id:t}),i){const r={aiColumnConfiguration:{blockId:i.blockId,inputType:i.inputType,inputId:i.inputId,additionalInstructions:i.additionalInstructions}};await n.post(`/aims/ai-column/${e}/${t}`,r)}It(e,t)},dismissAiPreview:function(e,t){wt("ai_preview_dismissed",{board_id:e,column_id:t}),It(e,t)},handleSmartfillCandidatePreview:async function(e,t,n){try{if(!Je(0,e,t))return;Ct(e,t,!1);const r=[10839609289,10846765700,11032482419,11032478836],s={title:"mf-table.ai-preview-tipseen.title",content:"mf-table.ai-preview-tipseen.content",shouldDisplayTipseen:!0};wt("smartfill_preview_triggered",{board_id:e,column_id:t}),await Et({boardId:e,columnId:t,itemIds:r,tipseenConfig:s,changedItemId:n})}catch(r){St("Failed to handle smartfill candidate preview",{error:r})}},handleSmartfillCandidate:function(e,t,n){try{if(!n)return;Ct(e,t,!0);!function(e,t,n){const r=ie()[Qe],s=r.getState(),o=Pt(e,t);r.setState({columns:{...s.columns,[o]:{...s.columns[o],aiPreviewConfig:n}}})}(e,t,{blockId:n.blockId,inputId:n.inputId,inputType:n.inputType,additionalInstructions:n.additionalInstructions,maxItemsToApply:n.maxItemsToApply??200,shouldApplyOnExistingItems:{value:n.shouldApplyOnExistingItems?.value??!0},runBackfill:n.runBackfill??!0,entityType:n.entityType??"custom",targetVirtualColumnType:n.targetVirtualColumnType,suggestedLabels:n.suggestedLabels,sourceBoardId:e,targetColumnId:t,sourceColumnId:n.inputId})}catch(r){St("Failed to handle smartfill candidate",{error:r})}}};const kt=new class extends te{constructor(){super(...arguments),this.selectors=Ke,this.actions=At}}(Qe,{columns:{}}),_t="modals";const Tt=Object.freeze(Object.defineProperty({__proto__:null,getModalData:function(e,t){return e?.[_t]?.[t]?.data??null}},Symbol.toStringTag,{value:"Module"}));const Ot={setModalData:function(e,t=null){const n=ie()[_t],r=n.getState();n.setState({...r,[e]:{data:t}})}};const Mt=new class extends te{constructor(){super(...arguments),this.selectors=Tt,this.actions=Ot}}(_t,{}),jt={[ce]:Be,[Ge]:ze,[Qe]:kt,[_t]:Mt};const Rt=Object.freeze(Object.defineProperty({__proto__:null,init:function(){((e=!1)=>{oe(jt,[],e)})()}},Symbol.toStringTag,{value:"Module"})),{init:Nt,updateInitialData:Ft,unmount:$t,render:Dt}=Rt,xt=e=>{if(e)return(...n)=>{try{e(...n)}catch(Lt){const{loggerService:n}=t();throw n?n.error(Lt):console.error(Lt),Lt}}};globalThis["MF-mf-boards-store"]={init:({api:n,...r})=>{const s=(e=>new Proxy(e,{get(e,t){if("loggerService"===t&&e.loggerService){const{loggerService:t}=e;return{...t,error:(e,n,r)=>{t.error(e,n,r,"mf-boards-store")}}}return e[t]}}))(n);!function(t){e=t}(s),function(e={release:"",dsn:"",environment:"",origin:""}){const{project:n,release:r,dsn:s,environment:o,origin:i}=e,{loggerService:a}=t();a&&n&&r&&s&&a.addClient(n,{release:r,dsn:s,environment:o,origin:i})}({project:"mf-boards-store",release:"07aa28bf70c133fc9740c8783e1011a247b12198",dsn:"https://13f68a72b6818d17a001a25f74c2c83b@o916138.ingest.us.sentry.io/4510317001834496",environment:"production",origin:"https://microfrontends.monday.com/mf-boards-store"}),xt(Nt)({api:s,...r})},render:xt(Dt),updateInitialData:xt(Ft),unmount:xt($t)};export{ve as D,we as G,be as P,Pe as a,Se as b,Ae as g,Ce as p,Ee as r};
